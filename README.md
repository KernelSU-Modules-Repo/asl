[![Release](https://img.shields.io/github/v/release/KernelSU-Modules-Repo/asl?label=release&color=blue&style=flat-square)](https://github.com/KernelSU-Modules-Repo/asl/releases) [![License](https://img.shields.io/github/license/KernelSU-Modules-Repo/asl?style=flat-square)](https://github.com/KernelSU-Modules-Repo/asl/blob/main/LICENSE) [![Last commit](https://img.shields.io/github/last-commit/KernelSU-Modules-Repo/asl?style=flat-square)](https://github.com/KernelSU-Modules-Repo/asl/commits/main) [![Issues](https://img.shields.io/github/issues/KernelSU-Modules-Repo/asl?style=flat-square)](https://github.com/KernelSU-Modules-Repo/asl/issues)

[![Stars](https://img.shields.io/github/stars/KernelSU-Modules-Repo/asl?style=social)](https://github.com/KernelSU-Modules-Repo/asl/stargazers) [![Downloads](https://img.shields.io/github/downloads/KernelSU-Modules-Repo/asl/total?style=flat-square)](https://github.com/KernelSU-Modules-Repo/asl/releases) [![Sponsor](https://img.shields.io/badge/Sponsor-GitHub-brightgreen?style=flat-square)](https://github.com/sponsors/LIghtJUNction)

What is this? / 这是干什么的？
============================================

这是一个来自 asl 的 fork — 文档聚焦于 Kam 的构建钩子系统（hooks）。  
This repo documents the Kam build hook system — how to structure, write, and run pre-/post-build hooks for Kam modules.


---

Security Guarantee / 安全性担保
--------------------------------------------

This module is unlikely to cause a boot loop, and its content is 100% manually edited, eliminating any AI illusions. However, the documentation was generated by AI, and I made some manual corrections. You can check  /system/bin/rurima , which only sets some environment variables. It only contains  action.sh , not  services.sh , which simply provides a runtime environment for the  rurima  executable, so it shouldn't cause the device to fail to boot. When I designed it, I completely removed the complex management logic of the original module and handed it over to the user to download and manage the subsystem.
 
 
这个模块不太可能导致设备无法开机（bootloop），其内容100%是手动编辑的，不存在任何AI生成的幻觉或错误。不过，这份文档是由AI生成的，我做了一些手动修正。您可以检查  /system/bin/rurima  文件，它只设置了一些环境变量。模块中只包含  action.sh ，没有  services.sh ，它仅为  rurima  可执行文件提供一个运行时环境，因此不应该导致设备无法开机。在我设计它时，我完全移除了原始模块中复杂的管理逻辑，并将其交给用户自行下载和管理子系统。


---

Quick start / 快速开始
--------------------------------------------

### Download & install / 下载与安装
- Download releases: https://github.com/KernelSU-Modules-Repo/asl/releases  

- download termux

- su

- rurima

- dep # check dependencies

- pull # pull image

example

- cd /data

- mkdir asl && cd asl

- https://images.linuxcontainers.org/

- pull alpine:edge ./alpine

- run ./alpine

- note!

- modify /etc/resolv.conf
(To remove old files and create new ones, you can use MT Manager or other tools, or you can do it via the command line.)
- Write some DNS server configuration

- You will now be able to access the internet.

- How do I uninstall it?

- ./alpine/.rurienv It has been set to an unmodifiable attribute; remove it using `chattr -i ./alpine/.rurienv`.


 destructive actions (useful locally).  Do not rely on `KAM_IMMUTABLE_RELEASE` — it was removed in favor of interactive handling.

### Action secrets / GitHub Actions（CI）
- `KAM_PRIVATE_KEY`: Add this secret (PEM content) to your repository to enable CI signing.
- Keep secrets secure — do not commit private keys to the repository.

---

Table of Contents | 目录
- [Quick start / 快速开始](#quick-start--快速开始)
  - [Download & install / 下载与安装](#download--install--下载与安装)
  - [Build / 构建](#build--构建)
  - [Sign / 签名](#sign--签名)
  - [Verify / 验证](#verify--验证)
  - [Release / 发布](#release--发布)
  - [Action secrets / GitHub Actions（CI）](#action-secrets--github-actionsci)
- [Overview / 概述](#overview--概述)
- [Why / 返回：为什么使用钩子](#why--为什么使用钩子)
- [Naming convention / 命名约定](#naming-convention--命名约定)
- [Built-in hooks / 内置钩子](#built-in-hooks--内置钩子)
- [Execution behavior / 执行行为](#execution-behavior--执行行为)
- [Environment variables / 环境变量](#environment-variables--环境变量)
- [Examples / 示例](#examples--示例)
- [Template variables & precedence / 模板变量与优先级](#template-variables--precedence--模板变量与优先级)
- [Troubleshooting / 常见问题](#troubleshooting--常见问题)
- [Contributing / 贡献](#contributing--贡献)
- [Licensing / 许可与引用](#licensing--许可与引用)

---

Overview / 概述
--------------------------------------------
Kam hooks let you run custom scripts at different stages of the build lifecycle. Hooks are small scripts placed under `hooks/pre-build/` or `hooks/post-build/` and executed via `kam build`.

Kam 钩子允许你在构建流程不同阶段运行自定义脚本（`hooks/pre-build/`, `hooks/post-build/`），便于在构建前后进行同步、签名、上传等操作。
}

Licensing / 许可与引用
--------------------------------------------
This project is a fork of [asl](https://github.com/RuriOSS/asl). Keep attributions and follow the original license (see `LICENSE`).

---
